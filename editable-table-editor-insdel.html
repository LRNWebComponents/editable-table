<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-button/paper-button.html">

<!--
`editable-table-editor-insdel`
A LRN element

@demo demo/index.html

@microcopy - the mental model for this element
 -
 -
 -

-->

<dom-module id="editable-table-editor-insdel">
  <template>
    <style>
      :host {
        display: block;
      }
      :host paper-button {
        display: block;
        text-transform: none;
        text-align: left;
      }
    </style>
    <paper-button><slot></slot></paper-button>
  </template>

  <script>
    Polymer({

      is: 'editable-table-editor-insdel',

      listeners: {
        'tap': '_onTap'
      },

      properties: {
        /**
          * The action of the menu item
          */
        action: {
          type: String,
          value: null
        },
        /**
          * The index of the row or column
          */
        index: {
          type: Number,
          value: null,
          reflectToAttribute: true
        },
        /**
          * If insert, does it insert before? Default is insert after. 
          */
        before: {
          type: Boolean,
          value: false, 
          reflectToAttribute: true
        },
        /**
          * Is it row or column?
          */
        type: {
          type: String,
          value: null
        },
      },
      /**
        * Handle item tap
        */
      _onTap: function(e){
        let root = this, action = root.action, type = root.type, before = root.before, index = root.index, event = action+'-'+type.toLowerCase();
        if (action === 'insert' && before && type === "Row") {
          index--;
        } else if (action === 'insert' && !before && type !== "Row") {
          index++;
        }
        console.log(event,index);
        root.fire(event,index);
      },
    });
  </script>
</dom-module>
